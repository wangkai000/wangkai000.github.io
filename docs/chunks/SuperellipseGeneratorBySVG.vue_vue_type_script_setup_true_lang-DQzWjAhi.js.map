{"version":3,"file":"SuperellipseGeneratorBySVG.vue_vue_type_script_setup_true_lang-DQzWjAhi.js","sources":["../../src/components/normal/superellipse/SuperellipseGeneratorBySVG.vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst pathString = ref(\"\");\n\n// 绘制超椭圆的路径\npathString.value = await getSuperellipsePath();\nconst $path = ref<SVGPathElement | null>(null);\nconst svgViewbox = ref({ x: 0, y: 0, width: 200, height: 200 });\nonMounted(() => {\n    const bbox = $path.value!.getBBox();\n    svgViewbox.value = {\n        x: bbox.x,\n        y: bbox.y,\n        width: bbox.width,\n        height: bbox.height,\n    };\n});\nasync function getSuperellipsePath(\n    a = 50, // X 轴半径\n    b = 50, // Y 轴半径\n    nX = 4, // X 轴幂指数\n    nY = 4, // Y 轴幂指数\n    steps = 360, // 点的个数\n) {\n    // 计算超椭圆的路径点\n    const nX2 = 2 / nX;\n    const nY2 = 2 / nY;\n    const points = await Array.from({ length: steps }, (_, i) => {\n        const t = (i * 2 * Math.PI) / steps;\n        const cosT = Math.cos(t);\n        const sinT = Math.sin(t);\n        const x = Math.abs(cosT) ** nX2 * a * Math.sign(cosT);\n        const y = Math.abs(sinT) ** nY2 * b * Math.sign(sinT);\n        return { x, y };\n    });\n    return `${points.map((p, i) => `${i === 0 ? \"M\" : \"L\"} ${p.x} ${p.y}`).join(\" \")} Z`;\n}\n</script>\n\n<template>\n    <svg\n        :viewBox=\"`${svgViewbox.x} ${svgViewbox.y} ${svgViewbox.width} ${svgViewbox.height}`\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        version=\"1.1\"\n    >\n        <path ref=\"$path\" :d=\"pathString\" fill=\"currentColor\" />\n    </svg>\n</template>\n"],"names":["pathString","ref","value","__temp","__restore","_withAsyncContext","async","a","b","nX","nY","steps","nX2","nY2","Array","from","length","_","i","t","Math","PI","cosT","cos","sinT","sin","x","abs","sign","y","map","p","join","getSuperellipsePath","$path","svgViewbox","width","height","onMounted","bbox","getBBox"],"mappings":"mLACM,MAAAA,EAAaC,EAAI,IAGvBD,EAAWE,QAAQC,EAAAC,GAAAC,GAAA,IAYJC,eACXC,EAAI,GACJC,EAAI,GACJC,EAAK,EACLC,EAAK,EACLC,EAAQ,KAGR,MAAMC,EAAM,EAAIH,EACVI,EAAM,EAAIH,EAST,MAAA,UARcI,MAAMC,KAAK,CAAEC,OAAQL,IAAS,CAACM,EAAGC,KACnD,MAAMC,EAAS,EAAJD,EAAQE,KAAKC,GAAMV,EACxBW,EAAOF,KAAKG,IAAIJ,GAChBK,EAAOJ,KAAKK,IAAIN,GAGf,MAAA,CAAEO,EAFCN,KAAKO,IAAIL,IAASV,EAAML,EAAIa,KAAKQ,KAAKN,GAEpCO,EADFT,KAAKO,IAAIH,IAASX,EAAML,EAAIY,KAAKQ,KAAKJ,QAGnCM,KAAI,CAACC,EAAGb,IAAM,GAAS,IAANA,EAAU,IAAM,OAAOa,EAAEL,KAAKK,EAAEF,MAAKG,KAAK,QAChF,CA/ByBC,sBACnB,MAAAC,EAAQjC,EAA2B,MACnCkC,EAAalC,EAAI,CAAEyB,EAAG,EAAGG,EAAG,EAAGO,MAAO,IAAKC,OAAQ,aACzDC,GAAU,KACA,MAAAC,EAAOL,EAAMhC,MAAOsC,UAC1BL,EAAWjC,MAAQ,CACfwB,EAAGa,EAAKb,EACRG,EAAGU,EAAKV,EACRO,MAAOG,EAAKH,MACZC,OAAQE,EAAKF,OAAA"}