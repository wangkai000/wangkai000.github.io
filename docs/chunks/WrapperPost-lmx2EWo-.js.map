{"version":3,"file":"WrapperPost-lmx2EWo-.js","sources":["../../node_modules/.pnpm/@unhead+vue@1.9.16_vue@3.4.33_typescript@5.5.3_/node_modules/@unhead/vue/dist/shared/vue.f36acd1f.mjs","../../src/utils/blog.ts","../../src/utils/giscus.ts","../../src/components/normal/ScrollTopButton.vue","../../src/components/blog/Plum.vue","../../src/components/blog/WrapperPost.vue"],"sourcesContent":["import { ref, watchEffect, watch, getCurrentInstance, onBeforeUnmount, onDeactivated, onActivated } from 'vue';\nimport { i as injectHead, r as resolveUnrefHeadInput } from './vue.cf295fb1.mjs';\n\nfunction useHead(input, options = {}) {\n  const head = options.head || injectHead();\n  if (head) {\n    if (!head.ssr)\n      return clientUseHead(head, input, options);\n    return head.push(input, options);\n  }\n}\nfunction clientUseHead(head, input, options = {}) {\n  const deactivated = ref(false);\n  const resolvedInput = ref({});\n  watchEffect(() => {\n    resolvedInput.value = deactivated.value ? {} : resolveUnrefHeadInput(input);\n  });\n  const entry = head.push(resolvedInput.value, options);\n  watch(resolvedInput, (e) => {\n    entry.patch(e);\n  });\n  const vm = getCurrentInstance();\n  if (vm) {\n    onBeforeUnmount(() => {\n      entry.dispose();\n    });\n    onDeactivated(() => {\n      deactivated.value = true;\n    });\n    onActivated(() => {\n      deactivated.value = false;\n    });\n  }\n  return entry;\n}\n\nexport { useHead as u };\n","import dayjs from \"dayjs\";\n\nexport function parseTitleFromContentList(oldTitle: string) {\n    return `第${oldTitle.split(\" \")[0]}期 - ${oldTitle.split(\" \")[1]}`;\n}\n\n// 转化文章路由地址\nexport function parseLinkToRoute(oldTitle: string) {\n    const index = Number.parseInt(oldTitle.split(\"-\")[0]);\n    const linkNum = index > 9 ? `${index}` : `0${index}`;\n    const path = `/${linkNum}`;\n    return path;\n}\n\n// 排序所有的文章\nexport function sortPosts(allPosts: any) {\n    return allPosts.sort((a: { url: string }, b: { url: string }) => {\n        return (\n            Number.parseInt(b.url.split(\"/posts/\")[1].split(\"-\")[0]) -\n            Number.parseInt(a.url.split(\"/posts/\")[1].split(\"-\")[0])\n        );\n    });\n}\n\n// 回到顶部\nexport function scrollToBlogTop() {\n    window &&\n        window?.scrollTo({\n            top: 0,\n            left: 0,\n            behavior: \"smooth\",\n        });\n    // const el = ref<HTMLElement | null>(null)\n    // const { x, y } = useScroll(el, { behavior: 'smooth' })\n    // x.value = 0\n    // return { el, x, y }\n}\n\nexport function formatDate(d: string | Date, onlyDate = true) {\n    const date = dayjs(d);\n    if (onlyDate || date.year() === dayjs().year()) return date.format(\"MMM D\");\n    return date.format(\"MMM D, YYYY\");\n}\n","import { giscusSetting } from \"~/config/param\";\n\ninterface ISetConfigMessage {\n    setConfig: {\n        theme?: any;\n        repo?: string;\n        repoId?: string;\n        category?: string;\n        categoryId?: string;\n        term?: string;\n        description?: string;\n        backLink?: string;\n        number?: number;\n        strict?: boolean;\n        reactionsEnabled?: boolean;\n        emitMetadata?: boolean;\n        inputPosition?: any;\n        lang?: any;\n    };\n}\n\n// https://giscus.app/zh-CN\nexport function registerGiscus(root: HTMLElement) {\n    const giscusFrame = document.getElementById(\"giscus-frame\");\n    if (giscusFrame) {\n        return null;\n    } else {\n        const script = document.createElement(\"script\");\n        script.src = \"https://giscus.app/client.js\";\n        script.setAttribute(\"data-repo\", giscusSetting[\"data-repo\"]);\n        script.setAttribute(\"data-repo-id\", giscusSetting[\"data-repo-id\"]);\n        script.setAttribute(\"data-category\", giscusSetting[\"data-category\"]);\n        script.setAttribute(\n            \"data-category-id\",\n            giscusSetting[\"data-category-id\"],\n        );\n        script.setAttribute(\"data-mapping\", giscusSetting[\"data-mapping\"]);\n        script.setAttribute(\"data-strict\", giscusSetting[\"data-strict\"]);\n        script.setAttribute(\n            \"data-reactions-enabled\",\n            giscusSetting[\"data-reactions-enabled\"],\n        );\n        script.setAttribute(\n            \"data-emit-metadata\",\n            giscusSetting[\"data-emit-metadata\"],\n        );\n        script.setAttribute(\n            \"data-input-position\",\n            giscusSetting[\"data-input-position\"],\n        );\n        script.setAttribute(\n            \"data-theme\",\n            getCommentTheme(isDark.value ? \"dark\" : \"light\"),\n        );\n        script.setAttribute(\"data-lang\", giscusSetting[\"data-lang\"]);\n        // script.setAttribute('data-loading', 'lazy')\n        script.setAttribute(\"crossorigin\", giscusSetting.crossorigin);\n        script.setAttribute(\"async\", \"\");\n        root.appendChild(script);\n        updateGiscusTheme();\n    }\n    return { root };\n}\n\nexport function updateGiscusConfig(message: ISetConfigMessage) {\n    const iframe = document.querySelector<HTMLIFrameElement>(\n        \"iframe.giscus-frame\",\n    );\n    if (!iframe) return;\n    iframe.contentWindow!.postMessage(\n        { giscus: message },\n        \"https://giscus.app\",\n    );\n}\n\nexport function updateGiscusTheme() {\n    watch(isDark, () => {\n        updateGiscusConfig({\n            setConfig: {\n                theme: getCommentTheme(isDark.value ? \"dark\" : \"light\"),\n            },\n        });\n    });\n}\n\nexport function getCommentTheme(color: string) {\n    if (color === \"dark\")\n        return `${window.location.protocol}//${window.location.host}/styles/giscus/dark-comment.css`;\n    else\n        return `${window.location.protocol}//${window.location.host}/styles/giscus/light-comment.css`;\n}\n","<script setup lang=\"ts\">\nconst { y } = useWindowScroll();\n\nconst isLargeScreen = useMediaQuery(\"(min-width: 540px)\");\nconst isShow = computed(() => {\n    return y.value > 200;\n});\nfunction scrollToTop() {\n    window?.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: \"smooth\",\n    });\n}\n</script>\n\n<template>\n    <div\n        class=\"top-btn\"\n        :class=\"isLargeScreen && isShow ? 'opacity-100' : 'opacity-0'\"\n        @click=\"scrollToTop\"\n    >\n        <div class=\"back-to-top-btn\">\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"32\"\n                height=\"32\"\n                viewBox=\"0 0 32 32\"\n            >\n                <g fill=\"none\">\n                    <g filter=\"url(#f2377id0)\">\n                        <path\n                            fill=\"url(#f2377id2)\"\n                            d=\"m7.545 10.19l7.57-8.13a.992.992 0 0 1 1.43-.01l7.57 8.13c.56.597.12 1.564-.71 1.564h-3.64c-.35 0-.64.284-.64.626v5.194c0 .645-.53 1.163-1.19 1.163h-4.22c-.65 0-1.19-.518-1.18-1.153v-5.195a.637.637 0 0 0-.64-.625h-3.64c-.83 0-1.27-.958-.71-1.563\"\n                        />\n                    </g>\n                    <g fill=\"#59555F\" filter=\"url(#f2377id1)\">\n                        <path\n                            d=\"M12.27 20.569H5.83c-.55 0-1 .45-1 1s.45 1 1 1h2.22v6.17c0 .55.45 1 1 1s1-.45 1-1v-6.17h2.22c.55 0 1-.45 1-1c0-.56-.45-1-1-1m9.39.01h2.77c1.51 0 2.74 1.23 2.74 2.74c0 1.51-1.23 2.74-2.74 2.74h-1.77v2.69c0 .55-.45 1-1 1s-1-.45-1-1v-7.17c0-.55.45-1 1-1m1 3.48h1.77c.41 0 .74-.33.74-.74s-.33-.74-.74-.74h-1.77zm-9.39 2.55c0 1.73 1.41 3.14 3.15 3.14c1.73 0 3.15-1.41 3.15-3.14v-2.88c0-1.73-1.41-3.14-3.15-3.14s-3.15 1.41-3.15 3.14zm2-2.88a1.15 1.15 0 0 1 2.3 0v2.88c0 .64-.52 1.15-1.15 1.15c-.63 0-1.15-.52-1.15-1.15z\"\n                        />\n                    </g>\n                    <defs>\n                        <filter\n                            id=\"f2377id0\"\n                            width=\"18.571\"\n                            height=\"18.976\"\n                            x=\"6.794\"\n                            y=\".751\"\n                            color-interpolation-filters=\"sRGB\"\n                            filterUnits=\"userSpaceOnUse\"\n                        >\n                            <feFlood\n                                flood-opacity=\"0\"\n                                result=\"BackgroundImageFix\"\n                            />\n                            <feBlend\n                                in=\"SourceGraphic\"\n                                in2=\"BackgroundImageFix\"\n                                result=\"shape\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dx=\"-.5\" dy=\".5\" />\n                            <feGaussianBlur stdDeviation=\".375\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.505882 0 0 0 0 0.47451 0 0 0 0 0.537255 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"shape\"\n                                result=\"effect1_innerShadow_18590_958\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dy=\"-1\" />\n                            <feGaussianBlur stdDeviation=\".5\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"effect1_innerShadow_18590_958\"\n                                result=\"effect2_innerShadow_18590_958\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dx=\"1\" dy=\"-1\" />\n                            <feGaussianBlur stdDeviation=\".5\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"effect2_innerShadow_18590_958\"\n                                result=\"effect3_innerShadow_18590_958\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dx=\"1\" dy=\"1\" />\n                            <feGaussianBlur stdDeviation=\".5\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.239216 0 0 0 0 0.192157 0 0 0 0 0.290196 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"effect3_innerShadow_18590_958\"\n                                result=\"effect4_innerShadow_18590_958\"\n                            />\n                        </filter>\n                        <filter\n                            id=\"f2377id1\"\n                            width=\"23.19\"\n                            height=\"9.83\"\n                            x=\"4.63\"\n                            y=\"19.919\"\n                            color-interpolation-filters=\"sRGB\"\n                            filterUnits=\"userSpaceOnUse\"\n                        >\n                            <feFlood\n                                flood-opacity=\"0\"\n                                result=\"BackgroundImageFix\"\n                            />\n                            <feBlend\n                                in=\"SourceGraphic\"\n                                in2=\"BackgroundImageFix\"\n                                result=\"shape\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dy=\"-.65\" />\n                            <feGaussianBlur stdDeviation=\".325\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"shape\"\n                                result=\"effect1_innerShadow_18590_958\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dx=\".65\" />\n                            <feGaussianBlur stdDeviation=\".325\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"effect1_innerShadow_18590_958\"\n                                result=\"effect2_innerShadow_18590_958\"\n                            />\n                            <feColorMatrix\n                                in=\"SourceAlpha\"\n                                result=\"hardAlpha\"\n                                values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            />\n                            <feOffset dx=\"-.2\" />\n                            <feGaussianBlur stdDeviation=\".25\" />\n                            <feComposite\n                                in2=\"hardAlpha\"\n                                k2=\"-1\"\n                                k3=\"1\"\n                                operator=\"arithmetic\"\n                            />\n                            <feColorMatrix\n                                values=\"0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0\"\n                            />\n                            <feBlend\n                                in2=\"effect2_innerShadow_18590_958\"\n                                result=\"effect3_innerShadow_18590_958\"\n                            />\n                        </filter>\n                        <linearGradient\n                            id=\"f2377id2\"\n                            x1=\"15.83\"\n                            x2=\"15.83\"\n                            y1=\"5.028\"\n                            y2=\"18.727\"\n                            gradientUnits=\"userSpaceOnUse\"\n                        >\n                            <stop stop-color=\"#61576D\" />\n                            <stop offset=\"1\" stop-color=\"#4D4753\" />\n                        </linearGradient>\n                    </defs>\n                </g>\n            </svg>\n        </div>\n        <div class=\"button-glowing\" />\n    </div>\n</template>\n\n<style scoped>\n.top-btn {\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    border-radius: 100%;\n    display: grid;\n    place-items: center;\n    cursor: pointer;\n}\n\n.top-btn:hover > .back-to-top-btn {\n    transform: scale(1.1);\n    background-position: right center;\n    background-size: 200% auto;\n    /* -webkit-animation: pulse 1.5s forwards; */\n    /* animation: pulse512 1.5s forwards; */\n}\n\n.top-btn:hover > .button-glowing {\n    opacity: 1;\n}\n\n.back-to-top-btn {\n    width: 40px;\n    height: 60px;\n    display: grid;\n    place-items: center;\n    background: var(--blog-btn);\n    border-radius: 99999px;\n    transition: all ease-in-out 0.2s;\n}\n\n.button-glowing {\n    opacity: 0;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 100px;\n    height: 100px;\n    transform: translate(-50%, -50%);\n    transition: all 1s ease;\n    pointer-events: none;\n    z-index: -1;\n    border-radius: 9999px;\n    filter: blur(60px);\n    background-image: linear-gradient(45deg, #5021ff, #36e4da, #0047e1);\n}\n\n@keyframes pulse512 {\n    0% {\n        box-shadow: 0 0 0 0 var(--blog-btn-shadow);\n    }\n    70% {\n        box-shadow: 0 0 0 10px rgb(218 103 68 / 0%);\n    }\n    100% {\n        box-shadow: 0 0 0 0 rgb(218 103 68 / 0%);\n    }\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { Fn } from \"@vueuse/core\";\n\nconst r180 = Math.PI;\nconst r90 = Math.PI / 2;\nconst r15 = Math.PI / 12;\nconst color = \"#88888825\";\n\nconst el = ref<HTMLCanvasElement | null>(null);\n\nconst { random } = Math;\nconst size = reactive(useWindowSize());\n\nconst start = ref<Fn>(() => {});\nconst MIN_BRANCH = 30;\nconst len = ref(6);\nconst stopped = ref(false);\n\nfunction initCanvas(\n    canvas: HTMLCanvasElement,\n    width = 400,\n    height = 400,\n    _dpi?: number,\n) {\n    const ctx = canvas.getContext(\"2d\")!;\n\n    const dpr = window.devicePixelRatio || 1;\n    // @ts-expect-error vendor\n    const bsr =\n        ctx.webkitBackingStorePixelRatio ||\n        ctx.mozBackingStorePixelRatio ||\n        ctx.msBackingStorePixelRatio ||\n        ctx.oBackingStorePixelRatio ||\n        ctx.backingStorePixelRatio ||\n        1;\n\n    const dpi = _dpi || dpr / bsr;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    canvas.width = dpi * width;\n    canvas.height = dpi * height;\n    ctx.scale(dpi, dpi);\n\n    return { ctx, dpi };\n}\n\nfunction polar2cart(x = 0, y = 0, r = 0, theta = 0) {\n    const dx = r * Math.cos(theta);\n    const dy = r * Math.sin(theta);\n    return [x + dx, y + dy];\n}\n\nonMounted(async () => {\n    const canvas = el.value!;\n    const { ctx } = initCanvas(canvas, size.width, size.height);\n    const { width, height } = canvas;\n\n    let steps: Fn[] = [];\n    let prevSteps: Fn[] = [];\n\n    const step = (\n        x: number,\n        y: number,\n        rad: number,\n        counter: { value: number } = { value: 0 },\n    ) => {\n        const length = random() * len.value;\n        counter.value += 1;\n\n        const [nx, ny] = polar2cart(x, y, length, rad);\n\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        ctx.lineTo(nx, ny);\n        ctx.stroke();\n\n        const rad1 = rad + random() * r15;\n        const rad2 = rad - random() * r15;\n\n        // out of bounds\n        if (\n            nx < -100 ||\n            nx > size.width + 100 ||\n            ny < -100 ||\n            ny > size.height + 100\n        )\n            return;\n\n        const rate = counter.value <= MIN_BRANCH ? 0.8 : 0.5;\n\n        // left branch\n        if (random() < rate) steps.push(() => step(nx, ny, rad1, counter));\n\n        // right branch\n        if (random() < rate) steps.push(() => step(nx, ny, rad2, counter));\n    };\n\n    let lastTime = performance.now();\n    const interval = 1000 / 40; // 50fps\n\n    let controls: ReturnType<typeof useRafFn>;\n\n    const frame = () => {\n        if (performance.now() - lastTime < interval) return;\n\n        prevSteps = steps;\n        steps = [];\n        lastTime = performance.now();\n\n        if (!prevSteps.length) {\n            controls.pause();\n            stopped.value = true;\n        }\n\n        // Execute all the steps from the previous frame\n        prevSteps.forEach((i) => {\n            // 50% chance to keep the step for the next frame, to create a more organic look\n            if (random() < 0.5) steps.push(i);\n            else i();\n        });\n    };\n\n    controls = useRafFn(frame, { immediate: false });\n\n    /**\n     * 0.2 - 0.8\n     */\n    const randomMiddle = () => random() * 0.6 + 0.2;\n\n    start.value = () => {\n        controls.pause();\n        ctx.clearRect(0, 0, width, height);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = color;\n        prevSteps = [];\n        steps = [\n            () => step(randomMiddle() * size.width, -5, r90),\n            () => step(randomMiddle() * size.width, size.height + 5, -r90),\n            () => step(-5, randomMiddle() * size.height, 0),\n            () => step(size.width + 5, randomMiddle() * size.height, r180),\n        ];\n        if (size.width < 500) steps = steps.slice(0, 2);\n        controls.resume();\n        stopped.value = false;\n    };\n\n    start.value();\n});\nconst mask = computed(() => \"radial-gradient(circle, transparent, black);\");\n</script>\n\n<template>\n    <div\n        class=\"pointer-events-none fixed bottom-0 left-0 right-0 top-0 print:hidden\"\n        style=\"z-index: -1\"\n        :style=\"`mask-image: ${mask};--webkit-mask-image: ${mask};`\"\n    >\n        <canvas ref=\"el\" width=\"400\" height=\"400\" />\n    </div>\n</template>\n","<script setup lang=\"ts\">\nimport { formatDate } from \"~/utils/blog\";\nimport { registerGiscus } from \"~/utils/giscus\";\n\nconst { frontmatter } = defineProps({\n    frontmatter: {\n        type: Object,\n        required: true,\n    },\n});\n\nconst router = useRouter();\nconst route = useRoute();\nconst content = ref<HTMLDivElement>();\n\nonMounted(() => {\n    const navigate = () => {\n        if (location.hash) {\n            const el = document.querySelector(\n                decodeURIComponent(location.hash),\n            );\n            if (el) {\n                const rect = el.getBoundingClientRect();\n                const y = window.scrollY + rect.top - 40;\n                window.scrollTo({\n                    top: y,\n                    behavior: \"smooth\",\n                });\n                return true;\n            }\n        }\n    };\n\n    const handleAnchors = (event: MouseEvent & { target: HTMLElement }) => {\n        const link = event.target.closest(\"a\");\n\n        if (\n            !event.defaultPrevented &&\n            link &&\n            event.button === 0 &&\n            link.target !== \"_blank\" &&\n            link.rel !== \"external\" &&\n            !link.download &&\n            !event.metaKey &&\n            !event.ctrlKey &&\n            !event.shiftKey &&\n            !event.altKey\n        ) {\n            const url = new URL(link.href);\n            if (url.origin !== window.location.origin) return;\n\n            event.preventDefault();\n            const { pathname, hash } = url;\n            if (hash && (!pathname || pathname === location.pathname)) {\n                window.history.replaceState({}, \"\", hash);\n                navigate();\n            } else {\n                router.push({ path: pathname, hash });\n            }\n        }\n    };\n\n    useEventListener(window, \"hashchange\", navigate);\n    useEventListener(content.value!, \"click\", handleAnchors, {\n        passive: false,\n    });\n\n    setTimeout(() => {\n        if (!navigate()) setTimeout(navigate, 1000);\n    }, 1);\n});\n\nconst giscusRoot = ref<HTMLElement | null>(null);\n\nwatchOnce(giscusRoot, (root) => {\n    if (root && root instanceof HTMLElement) registerGiscus(root);\n});\nonActivated(() => {\n    if (giscusRoot.value && giscusRoot.value instanceof HTMLElement)\n        registerGiscus(giscusRoot.value);\n});\n</script>\n\n<template>\n    <main\n        id=\"blog-root\"\n        style=\"font-family: LXGW WenKai Screen R\"\n        class=\"relative z-[1] mx-auto max-w-[760px] w-full rounded-[10px] border-unset bg-transparent px-2 pt-[10px] text-start md:border md:border-[var(--blog--border)] md:border-solid md:bg-[var(--blog-bg)] md:p-10 md:px-[36px]\"\n    >\n        <ClientOnly v-if=\"frontmatter.plum\">\n            <Plum />\n        </ClientOnly>\n        <div\n            v-if=\"frontmatter.display ?? frontmatter.title\"\n            class=\"m-auto mb-8 prose\"\n            :class=\"[frontmatter.wrapperClass]\"\n        >\n            <h1 class=\"slide-enter-50 mb-0\">\n                {{ frontmatter.display ?? frontmatter.title }}\n            </h1>\n            <p v-if=\"frontmatter.date\" class=\"slide-enter-50 opacity-50\">\n                {{ formatDate(frontmatter.date, false) }}\n                <span v-if=\"frontmatter.duration\"\n                    >· {{ frontmatter.duration }}</span\n                >\n            </p>\n            <p\n                v-if=\"frontmatter.desc\"\n                class=\"slide-enter-50\"\n                style=\"font-size: 80%\"\n            >\n                {{ frontmatter.desc }}\n            </p>\n            <p v-if=\"frontmatter.place\" class=\"mt--4!\">\n                <span op50>at </span>\n                <a\n                    v-if=\"frontmatter.placeLink\"\n                    :href=\"frontmatter.placeLink\"\n                    target=\"_blank\"\n                >\n                    {{ frontmatter.place }}\n                </a>\n                <span v-else font-bold>\n                    {{ frontmatter.place }}\n                </span>\n            </p>\n            <p\n                v-if=\"frontmatter.subtitle\"\n                class=\"slide-enter italic opacity-50 !-mt-6\"\n            >\n                {{ frontmatter.subtitle }}\n            </p>\n            <p\n                v-if=\"frontmatter.draft\"\n                class=\"slide-enter\"\n                border=\"l-3 orange-4\"\n                bg-orange-4:10\n                px4\n                py2\n                text-orange-4\n            >\n                This is a draft post, the content may be incomplete. Please\n                check back later.\n            </p>\n        </div>\n        <article\n            ref=\"content\"\n            :class=\"[\n                frontmatter.tocAlwaysOn ? 'toc-always-on' : '',\n                frontmatter.class,\n            ]\"\n        >\n            <slot />\n        </article>\n\n        <div\n            class=\"slide-enter m-auto mt-8 animate-delay-500 prose print:hidden\"\n        >\n            <!-- <div class=\"h-1 w-full border-t\" /> -->\n\n            <div\n                class=\"mb-[10px] flex flex-col items-center justify-between font-mono op50 md:flex-row hover:op75\"\n            >\n                <div class=\"flex-1\">发布日期: {{ frontmatter.date }}</div>\n                <div class=\"mt-4 flex-1 text-right md:mt-0\">\n                    <a\n                        href=\"https://github.com/\"\n                        title=\"Star\"\n                        target=\"_blank\"\n                        class=\"hidden lg:inline-block\"\n                    >\n                        Github</a\n                    >\n                </div>\n            </div>\n        </div>\n\n        <div\n            v-if=\"route.path !== '/'\"\n            class=\"slide-enter m-auto mb-8 animate-delay-500 prose print:hidden\"\n        >\n            <br />\n\n            <span font-mono op50> {{ `> ` }}</span>\n            <RouterLink to=\"/blog\" class=\"font-mono op50 hover:op75\">\n                {{ \"cd ..\" }}\n            </RouterLink>\n\n            <div class=\"py-4\" />\n            <!-- comment -->\n            <div ref=\"giscusRoot\" />\n        </div>\n        <ScrollTopButton />\n    </main>\n</template>\n\n<style scoped>\n#blog-root::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url(/noise.png);\n    background-repeat: repeat;\n    opacity: 0.04;\n    z-index: -1;\n    pointer-events: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n}\n</style>\n"],"names":["useHead","input","options","head","injectHead","ssr","push","deactivated","ref","resolvedInput","watchEffect","value","resolveUnrefHeadInput","entry","watch","e","patch","getCurrentInstance","onBeforeUnmount","dispose","onDeactivated","onActivated","clientUseHead","formatDate","d","onlyDate","date","dayjs","year","format","registerGiscus","root","document","getElementById","script","createElement","src","setAttribute","giscusSetting","getCommentTheme","isDark","crossorigin","appendChild","message","iframe","querySelector","contentWindow","postMessage","giscus","updateGiscusConfig","setConfig","theme","color","window","location","protocol","host","y","useWindowScroll","isLargeScreen","useMediaQuery","isShow","computed","scrollToTop","scrollTo","top","left","behavior","r180","Math","PI","r90","r15","el","random","size","reactive","useWindowSize","start","len","stopped","onMounted","async","canvas","ctx","width","height","getContext","dpi","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","style","scale","initCanvas","steps","prevSteps","step","x","rad","counter","length","nx","ny","r","theta","cos","sin","polar2cart","beginPath","moveTo","lineTo","stroke","rad1","rad2","rate","lastTime","performance","now","controls","useRafFn","pause","forEach","i","immediate","randomMiddle","clearRect","lineWidth","strokeStyle","slice","resume","mask","router","useRouter","route","useRoute","content","navigate","hash","decodeURIComponent","rect","getBoundingClientRect","scrollY","useEventListener","event","link","target","closest","defaultPrevented","button","rel","download","metaKey","ctrlKey","shiftKey","altKey","url","URL","href","origin","preventDefault","pathname","path","history","replaceState","passive","setTimeout","giscusRoot","watchOnce","HTMLElement"],"mappings":"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","x_google_ignoreList":[0]}