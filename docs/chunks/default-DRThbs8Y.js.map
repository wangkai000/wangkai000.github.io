{"version":3,"file":"default-DRThbs8Y.js","sources":["../../src/components/normal/header/Logo.vue","../../src/components/ui/hover-card/HoverCard.vue","../../src/components/ui/hover-card/HoverCardContent.vue","../../src/components/ui/hover-card/HoverCardTrigger.vue","../../src/components/normal/header/Nav.vue","../../src/layouts/default.vue"],"sourcesContent":["<script setup lang=\"ts\"></script>\n\n<template>\n    <img\n        class=\"mt-[0px] block h-[40px] w-[40px] md:mt-0 md:h-[56px] md:w-[56px]\"\n        src=\"/logo.png\"\n        alt=\"\"\n    />\n</template>\n\n<style scoped></style>\n","<script setup lang=\"ts\">\nimport {\n    HoverCardRoot,\n    type HoverCardRootEmits,\n    type HoverCardRootProps,\n    useForwardPropsEmits,\n} from \"radix-vue\";\n\nconst props = defineProps<HoverCardRootProps>();\nconst emits = defineEmits<HoverCardRootEmits>();\n\nconst forwarded = useForwardPropsEmits(props, emits);\n</script>\n\n<template>\n    <HoverCardRoot v-bind=\"forwarded\">\n        <slot />\n    </HoverCardRoot>\n</template>\n","<script setup lang=\"ts\">\nimport { type HTMLAttributes, computed } from \"vue\";\nimport {\n    HoverCardContent,\n    type HoverCardContentProps,\n    HoverCardPortal,\n    useForwardProps,\n} from \"radix-vue\";\nimport { cn } from \"@/utils/shadcn-vue-utils\";\n\nconst props = withDefaults(\n    defineProps<HoverCardContentProps & { class?: HTMLAttributes[\"class\"] }>(),\n    {\n        sideOffset: 4,\n    },\n);\n\nconst delegatedProps = computed(() => {\n    const { class: _, ...delegated } = props;\n\n    return delegated;\n});\n\nconst forwardedProps = useForwardProps(delegatedProps);\n</script>\n\n<template>\n    <HoverCardPortal>\n        <HoverCardContent\n            v-bind=\"forwardedProps\"\n            :class=\"\n                cn(\n                    'z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n                    props.class,\n                )\n            \"\n        >\n            <slot />\n        </HoverCardContent>\n    </HoverCardPortal>\n</template>\n","<script setup lang=\"ts\">\nimport { HoverCardTrigger, type HoverCardTriggerProps } from \"radix-vue\";\n\nconst props = defineProps<HoverCardTriggerProps>();\n</script>\n\n<template>\n    <HoverCardTrigger v-bind=\"props\">\n        <slot />\n    </HoverCardTrigger>\n</template>\n","<script setup lang=\"ts\">\nimport { navFilter } from \"~/config\";\n\nconst route = useRoute();\nconst appTitle = useTitle();\n\nconst navFilterOptionBgMode = computed(() => {\n    if (isDark.value) return \"unset\";\n\n    return \"difference\";\n});\n// ------------------------------------data------------------------------------//\n// 每个 item 的宽高\nconst navItemOptions = {\n    width: 80,\n    height: 28,\n    padding: 5,\n};\n// 0. 通过序号计算左右移动的位置\nconst currentItemIndex = ref<number>(-2);\n// 1. 背景的样式，外面的盒子移动\nconst outerBgStyles = computed(() => {\n    return {\n        width: `${navItemOptions.width}px`,\n        height: `${navItemOptions.height}px`,\n        transform: `\n      translate(\n        ${currentItemIndex.value * navItemOptions.width + navItemOptions.padding}px,\n        5px\n      )\n    `,\n    };\n});\n// 2. 背景的样式，里面的盒子跳动\nconst bgInnerRef = ref<HTMLElement>();\n// ------------------------------------data------------------------------------//\n\n// ------------------------------------logic------------------------------------//\n// 1. 获取当前路由，设置动画\nonMounted(() => {\n    const currentRoute = navFilter.find((item) => item.route === route.path);\n    if (currentRoute)\n        refreshActiveTab(currentRoute, navFilter.indexOf(currentRoute));\n});\n\nwatch(\n    () => route.path,\n    (val) => {\n        const currentRoute = navFilter.find(\n            (item) => item.route === route.path,\n        );\n        if (currentRoute)\n            refreshActiveTab(currentRoute, navFilter.indexOf(currentRoute));\n\n        const whiteList = navFilter.map((item) => item.route);\n        if (!whiteList.includes(val)) startJelloHideAnimate();\n    },\n);\n\n// 2. 设置当前选中的 item 的背景\nfunction refreshActiveTab(item: (typeof navFilter)[0], index: number) {\n    // a. 设置标题\n    appTitle.value = item.label === \"组件\" ? \"tianMiao\" : item.label;\n\n    // b. 设置头部动画\n    currentItemIndex.value = index;\n    startJelloShowAnimate();\n}\n\nfunction startJelloShowAnimate() {\n    const jello = [\n        \"scale3d(1, 1, 1)\",\n        \"scale3d(1.25, 0.75, 1)\",\n        \"scale3d(0.75, 1.25, 1)\",\n        \"scale3d(1.15, 0.85, 1)\",\n        \"scale3d(0.95, 1.05, 1)\",\n        \"scale3d(1.05, 0.95, 1)\",\n        \"scale3d(1, 1, 1)\",\n    ];\n    const opacity = [1, 1];\n\n    if (bgInnerRef.value) {\n        const animation = bgInnerRef.value.animate(\n            { transform: jello, opacity },\n            { duration: 900, fill: \"forwards\" },\n        );\n        animation.onfinish = () => {};\n    }\n}\nfunction startJelloHideAnimate() {\n    const scale = [\n        \"scale3d(1, 1, 1)\",\n        \"scale3d(1.25, 0.75, 1)\",\n        \"scale3d(0.75, 1.25, 1)\",\n        \"scale3d(1.15, 0.85, 1)\",\n        \"scale3d(0.95, 1.05, 1)\",\n        \"scale3d(1.05, 0.95, 1)\",\n        \"scale3d(0.97, 1.03, 1)\",\n        \"scale3d(0, 0, 1)\",\n    ];\n\n    const opacity = [1, 0];\n\n    if (bgInnerRef.value) {\n        const animation = bgInnerRef.value.animate(\n            { transform: scale, opacity },\n            { duration: 900, fill: \"forwards\" },\n        );\n        animation.onfinish = () => {};\n    }\n}\n// ------------------------------------logic------------------------------------//\n</script>\n\n<template>\n    <ClientOnly>\n        <div class=\"nav-container\">\n            <!-- item -->\n\n            <div v-for=\"item in navFilter\" :key=\"item.label\">\n                <HoverCard :open-delay=\"0\" :close-delay=\"0\">\n                    <HoverCardTrigger>\n                        <router-link\n                            :to=\"item.route\"\n                            replace\n                            class=\"nav-item\"\n                            :style=\"{\n                                height: `${navItemOptions.height}px`,\n                                width: `${navItemOptions.width}px`,\n                            }\"\n                        >\n                            {{ item.label }}\n                        </router-link>\n                    </HoverCardTrigger>\n                    <HoverCardContent\n                        v-if=\"item?.children?.length > 0\"\n                        :side-offset=\"15\"\n                        class=\"w-[120px]! p-[4px]!\"\n                    >\n                        <div\n                            class=\"flex flex-col items-center justify-start text-[14px]\"\n                        >\n                            <div\n                                v-for=\"it in item.children\"\n                                :key=\"(it as any).label\"\n                                class=\"option-item h-10 w-full flex cursor-pointer items-center justify-center\"\n                            >\n                                {{ (it as any).label }}\n                            </div>\n                        </div>\n                    </HoverCardContent>\n                </HoverCard>\n            </div>\n\n            <!-- bg 外层移动，内层动画 -->\n            <div\n                :style=\"outerBgStyles\"\n                class=\"pointer-events-none absolute left-0 top-0 transition-transform duration-300 ease-in-out\"\n            >\n                <div\n                    ref=\"bgInnerRef\"\n                    class=\"h-full w-full rounded-[50px] bg-[var(--nav-placeholder-bg)]\"\n                />\n            </div>\n        </div>\n    </ClientOnly>\n</template>\n\n<style scoped>\n.nav-container {\n    position: relative;\n    background: var(--nav-bg);\n    border: var(--nav-border);\n    border-radius: 23px;\n    display: flex;\n    font-size: 14px;\n    padding: 5px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    user-select: none;\n    box-shadow: var(--ui-second-box-shadow);\n    overflow-x: auto;\n}\n.nav-item {\n    position: relative;\n    cursor: pointer;\n    border-radius: 50px;\n    -webkit-box-align: center;\n    padding: 0px 16px;\n    transition: opacity 0.3s ease 0s;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    z-index: 1;\n    user-select: none;\n    color: var(--nav-text);\n    mix-blend-mode: v-bind(navFilterOptionBgMode);\n}\n</style>\n","<script setup lang=\"ts\">\nimport { currentTransitionName } from \"~/logics/index\";\n\nconst route = useRoute();\n\nconst whitelist = [\"/blog/content-sidebar\"];\nconst isNoneLayout = computed(() => whitelist.includes(route.path));\n\nconst isLargeScreen = useMediaQuery(\"(min-width: 720px)\");\n\n/**\n * 文档图片放大预览\n */\nconst imageModel = ref<HTMLImageElement>();\nuseEventListener(\"click\", async (e) => {\n    const path = Array.from(e.composedPath());\n    const first = path[0];\n    if (!(first instanceof HTMLElement)) return;\n    if (first.tagName !== \"IMG\") return;\n    if (first.classList.contains(\"no-preview\")) return;\n    if (\n        path.some(\n            (el) =>\n                el instanceof HTMLElement &&\n                [\"A\", \"BUTTON\"].includes(el.tagName),\n        )\n    )\n        return;\n    if (\n        !path.some(\n            (el) => el instanceof HTMLElement && el.classList.contains(\"prose\"),\n        )\n    )\n        return;\n\n    // Do not open image when they are moving. Mainly for mobile to avoid conflict with hovering behavior.\n    const pos = first.getBoundingClientRect();\n    await new Promise((resolve) => setTimeout(resolve, 50));\n    const newPos = first.getBoundingClientRect();\n    if (pos.left !== newPos.left || pos.top !== newPos.top) return;\n\n    imageModel.value = first as HTMLImageElement;\n});\n</script>\n\n<template>\n    <main\n        id=\"main-root\"\n        class=\"bg-[var(--bg-main-color)]\"\n        :class=\"\n            isNoneLayout\n                ? ''\n                : 'pt-[100px] pb-20 px-[10px] md:px-5 overflow-x-hidden min-h-screen md:pt-[112px] '\n        \"\n    >\n        <Header v-show=\"!isLargeScreen || !isNoneLayout\" />\n        <RouterView v-slot=\"{ Component }\">\n            <Transition :name=\"currentTransitionName || 'page'\" mode=\"out-in\">\n                <keep-alive>\n                    <component :is=\"Component\" />\n                </keep-alive>\n            </Transition>\n        </RouterView>\n\n        <Transition name=\"fade\">\n            <div\n                v-if=\"imageModel\"\n                class=\"fixed bottom-0 left-0 right-0 top-0 z-[500] backdrop-blur\"\n                @click=\"imageModel = undefined\"\n            >\n                <div\n                    class=\"absolute bottom-0 left-0 right-0 top-0 z-[-1] bg-black:30\"\n                />\n                <img\n                    class=\"mx-auto h-[calc(100%_-_20px)] mt-[10px] w-[calc(100%_-_20px)] object-contain\"\n                    :src=\"imageModel.src\"\n                    :alt=\"imageModel.alt\"\n                />\n            </div>\n        </Transition>\n\n        <!-- 阳光 -->\n        <!-- <SunThroughWindow /> -->\n\n        <client-only>\n            <!-- 鼠标轨迹暂时移除 -->\n            <!-- <MouseTailBackground /> -->\n        </client-only>\n    </main>\n</template>\n\n<style>\n#main-root::after {\n    content: \"\";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    background-repeat: no-repeat;\n    pointer-events: none;\n    background-size: cover;\n    background-image: url(\"data:image/svg+xml,%3Csvg width='842' height='595' viewBox='0 0 842 595' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_2_17)'%3E%3Cg opacity='0.4' filter='url(%23filter0_f_2_17)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M873.139 -138H-32.0396V-99.2928H873.139V-138ZM873.139 84.9079V37.3208L-32.0396 155.833V244.746L873.139 84.9079ZM873.139 129.307V176.894L-32.0396 416.651V327.852L873.139 129.307ZM873.139 268.995V221.408L-32.0396 499.872V588.67L873.139 268.995ZM873.139 361.095V313.508L-32.0396 671.777V684.3H140.89L873.139 361.095ZM873.139 -7.1925V-54.7796L-32.0396 -16.1862V72.7264L873.139 -7.1925ZM873.139 405.608V453.081L436.773 684.3H297.427L873.139 405.608ZM873.139 635.575V497.595L546.975 684.3H794.814L873.139 635.575Z' fill='url(%23paint0_linear_2_17)'/%3E%3C/g%3E%3C/g%3E%3Cdefs%3E%3Cfilter id='filter0_f_2_17' x='-56.0396' y='-162' width='953.179' height='870.3' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'%3E%3CfeFlood flood-opacity='0' result='BackgroundImageFix'/%3E%3CfeBlend mode='normal' in='SourceGraphic' in2='BackgroundImageFix' result='shape'/%3E%3CfeGaussianBlur stdDeviation='12' result='effect1_foregroundBlur_2_17'/%3E%3C/filter%3E%3ClinearGradient id='paint0_linear_2_17' x1='-77.3571' y1='590.972' x2='907.949' y2='590.972' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-opacity='0.13'/%3E%3Cstop offset='1'/%3E%3C/linearGradient%3E%3CclipPath id='clip0_2_17'%3E%3Crect width='842' height='595' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n}\n</style>\n"],"names":["_hoisted_1","class","src","_ctx","_cache","forwarded","useForwardPropsEmits","__props","__emit","props","delegatedProps","computed","_","delegated","forwardedProps","useForwardProps","route","useRoute","appTitle","useTitle","navFilterOptionBgMode","isDark","value","navItemOptions","currentItemIndex","ref","outerBgStyles","width","height","transform","bgInnerRef","refreshActiveTab","item","index","label","jello","opacity","animate","duration","fill","onfinish","onMounted","currentRoute","navFilter","find","path","indexOf","watch","val","map","includes","scale","startJelloHideAnimate","whitelist","isNoneLayout","isLargeScreen","useMediaQuery","imageModel","useEventListener","async","e","Array","from","composedPath","first","HTMLElement","tagName","classList","contains","some","el","pos","getBoundingClientRect","Promise","resolve","setTimeout","newPos","left","top"],"mappings":"04BAIQA,EAAwE,CACxEC,MAAe,mEACfC,gDAHJ,SAAAC,EAAAC,+KCKJ,MAGMC,EAAYC,EAHJC,EACAC,mcCCd,MAAMC,EAAQF,EAORG,EAAiBC,GAAS,KAC5B,MAAQV,MAAOW,KAAMC,GAAcJ,EAE5B,OAAAI,CAAA,IAGLC,EAAiBC,EAAgBL,2pBCpBvC,MAAMD,EAAQF,gPCAd,MAAMS,EAAQC,IACRC,EAAWC,IAEXC,EAAwBT,GAAS,IAC/BU,EAAOC,MAAc,QAElB,eAILC,EACK,GADLA,EAEM,GAFNA,EAGO,EAGPC,EAAmBC,GAAc,GAEjCC,EAAgBf,GAAS,KACpB,CACHgB,MAAO,GAAGJ,MACVK,OAAQ,GAAGL,MACXM,UAAW,+BAETL,EAAiBF,MAAQC,EAAuBA,uCAOpDO,EAAaL,IA0BV,SAAAM,EAAiBC,EAA6BC,GAEnDf,EAASI,MAAuB,OAAfU,EAAKE,MAAiB,WAAaF,EAAKE,MAGzDV,EAAiBF,MAAQW,EAI7B,WACI,MAAME,EAAQ,CACV,mBACA,yBACA,yBACA,yBACA,yBACA,yBACA,oBAEEC,EAAU,CAAC,EAAG,GAEpB,GAAIN,EAAWR,MAAO,CACAQ,EAAWR,MAAMe,QAC/B,CAAER,UAAWM,EAAOC,WACpB,CAAEE,SAAU,IAAKC,KAAM,aAEjBC,SAAW,MACzB,CACJ,GArBA,QA5BAC,GAAU,KACA,MAAAC,EAAeC,EAAUC,MAAMZ,GAASA,EAAKhB,QAAUA,EAAM6B,OAC/DH,GACAX,EAAiBW,EAAcC,EAAUG,QAAQJ,GAAa,IAGtEK,GACI,IAAM/B,EAAM6B,OACXG,IACG,MAAMN,EAAeC,EAAUC,MAC1BZ,GAASA,EAAKhB,QAAUA,EAAM6B,OAE/BH,GACAX,EAAiBW,EAAcC,EAAUG,QAAQJ,IAEnCC,EAAUM,KAAKjB,GAASA,EAAKhB,QAChCkC,SAASF,IAkChC,WACI,MAAMG,EAAQ,CACV,mBACA,yBACA,yBACA,yBACA,yBACA,yBACA,yBACA,oBAGEf,EAAU,CAAC,EAAG,GAEpB,GAAIN,EAAWR,MAAO,CACAQ,EAAWR,MAAMe,QAC/B,CAAER,UAAWsB,EAAOf,WACpB,CAAEE,SAAU,IAAKC,KAAM,aAEjBC,SAAW,MACzB,CACJ,CAvD4DY,EAAA,4hDCpD5D,MAAMpC,EAAQC,IAERoC,EAAY,CAAC,yBACbC,EAAe3C,GAAS,IAAM0C,EAAUH,SAASlC,EAAM6B,QAEvDU,EAAgBC,EAAc,sBAK9BC,EAAahC,WACFiC,EAAA,SAASC,MAAOC,IAC7B,MAAMf,EAAOgB,MAAMC,KAAKF,EAAEG,gBACpBC,EAAQnB,EAAK,GACf,KAAEmB,aAAiBC,aAAc,OACjC,GAAkB,QAAlBD,EAAME,QAAmB,OAC7B,GAAIF,EAAMG,UAAUC,SAAS,cAAe,OAC5C,GACIvB,EAAKwB,MACAC,GACGA,aAAcL,aACd,CAAC,IAAK,UAAUf,SAASoB,EAAGJ,WAGpC,OACJ,IACKrB,EAAKwB,MACDC,GAAOA,aAAcL,aAAeK,EAAGH,UAAUC,SAAS,WAG/D,OAGE,MAAAG,EAAMP,EAAMQ,8BACZ,IAAIC,SAASC,GAAYC,WAAWD,EAAS,MAC7C,MAAAE,EAASZ,EAAMQ,wBACjBD,EAAIM,OAASD,EAAOC,MAAQN,EAAIO,MAAQF,EAAOE,MAEnDrB,EAAWnC,MAAQ0C,EAAA"}