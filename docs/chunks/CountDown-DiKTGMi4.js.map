{"version":3,"file":"CountDown-DiKTGMi4.js","sources":["../../src/components/normal/custom-card/ShadowBlock.vue","../../src/components/bento/common/CountDown.vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst props = defineProps({\n    class: {\n        type: String,\n        default: \"\",\n    },\n});\n</script>\n\n<template>\n    <!-- 最外层 Border -->\n    <div class=\"out-box\" :class=\"props.class\">\n        <!-- 里面一层 Border -->\n        <div class=\"inner-box-1\">\n            <!-- 里面第二层 border -->\n            <div class=\"inner-box-2\">\n                <!-- 里面表盘 -->\n                <div class=\"content\">\n                    <slot />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<style scoped>\n.out-box {\n    position: relative;\n    border-radius: 20px !important;\n    padding: 10px;\n    position: relative;\n    overflow: hidden;\n    background: var(--shadow-block-outer-bg);\n    /* box-shadow: 20px 20px 60px #d5d4d4,\n              -20px -20px 60px #ffffff; */\n}\n\n.inner-box-1 {\n    pointer-events: none;\n    width: 100%;\n    height: 100%;\n    border-radius: 15px;\n    background: var(--shadow-block-inner-bg);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n}\n.inner-box-2 {\n    width: 100%;\n    height: 100%;\n    padding: 5px;\n    border-radius: 15px;\n    background: var(--shadow-block-inner-bg);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    overflow: hidden;\n    box-shadow: inset 0px 0px 0px #d5d4d4;\n    display: flex;\n    place-items: center;\n}\n\n.content {\n    color: var(--shadow-block-content-text);\n    /* 这里因为 inner-box-2 的 border-radius 是 15px ， padding 是 5px ，所以这里设置为 15 - 5 = 10 px */\n    border-radius: 10px;\n    width: 100%;\n    height: 100%;\n    background: var(--shadow-block-content-bg);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    /* box-shadow: inset 15px 7px 27px #d5d4d4, inset 0px 0px 8px #ffffff; */\n}\n</style>\n","<script setup lang=\"ts\">\nconst time = ref(countdownTime()); // 23.84\n\nfunction runAtMidnight(callback: Function) {\n    const now = Date.now();\n    const midnight = new Date();\n    midnight.setHours(24, 0, 0, 0);\n    // eslint-disable-next-line unused-imports/no-unused-vars\n    let tomorrow = midnight.getTime() - now;\n    setInterval(() => {\n        const now = Date.now();\n        if (now >= midnight.getTime()) {\n            callback();\n            const midnight = new Date();\n            midnight.setHours(24, 0, 0, 0);\n            tomorrow = midnight.getTime() - now;\n        }\n    }, 1000);\n}\n\nrunAtMidnight(() => {\n    time.value = countdownTime();\n});\n\nfunction countdownTime() {\n    // 获取今年的年份\n    const year = new Date().getFullYear();\n\n    // 判断今年是否为闰年，计算今年的总天数\n    const daysInYear = new Date(year, 2, 0).getDate() === 29 ? 366 : 365;\n\n    // 获取今天是今年的第几天\n    const today = Math.floor(\n        (new Date().getTime() - new Date(year, 0, 0).getTime()) / 86400000,\n    );\n\n    // 计算今年已经过去了多少天\n    const daysGone = today + 1;\n\n    // 计算已经过去的百分比\n    const percentage = ((daysGone / daysInYear) * 100).toFixed(2);\n    return Number(percentage) < 10 ? `0${percentage}` : percentage;\n}\n</script>\n\n<template>\n    <ShadowBlock class=\"h-[300px] w-[400px] text-[5rem]\">\n        <div class=\"relative h-full w-full\" style=\"font-family: Digital\">\n            <span\n                class=\"absolute left-[50%] top-[50%] w-[180px] flex flex-row -translate-x-1/2 -translate-y-1/2\"\n            >\n                <span>{{ time.slice(0, 2) }}</span>\n                <div class=\"relative grid w-fit place-items-center\">\n                    <div class=\"opacity-0\">:</div>\n                    <div class=\"absolute left-[1px] top-0 w-full\">.</div>\n                </div>\n                <span>{{ time.slice(3) }}</span>\n            </span>\n            <span\n                v-show=\"Number(time) !== 100 && Number(time) !== 100.0\"\n                class=\"absolute left-[50%] top-[50%] w-[180px] text-[#0000001c] -translate-x-1/2 -translate-y-1/2 dark:text-[#ffffff1c]\"\n            >\n                00:00\n            </span>\n\n            <span\n                class=\"absolute left-[calc(50%_-_150px)] top-[50%] text-[24px] opacity-30\"\n            >\n                <span>{{ new Date().getFullYear() }}</span>\n            </span>\n            <span\n                class=\"absolute left-[calc(50%_+_100px)] top-[50%] text-[24px] opacity-30\"\n            >\n                %\n            </span>\n        </div>\n    </ShadowBlock>\n</template>\n\n<style scoped></style>\n"],"names":["props","__props","time","ref","countdownTime","year","Date","getFullYear","daysInYear","getDate","percentage","Math","floor","getTime","toFixed","Number","callback","now","midnight","setHours","setInterval","runAtMidnight","value"],"mappings":"+TACA,MAAMA,EAAQC,i0BCAR,MAAAC,EAAOC,EAAIC,KAuBjB,SAASA,IAEL,MAAMC,GAAO,IAAIC,MAAOC,cAGlBC,EAAgD,KAAnC,IAAIF,KAAKD,EAAM,EAAG,GAAGI,UAAmB,IAAM,IAW3DC,IARQC,KAAKC,QAAA,IACVN,MAAOO,UAAY,IAAIP,KAAKD,EAAM,EAAG,GAAGQ,WAAa,OAIrC,GAGOL,EAAc,KAAKM,QAAQ,GAC3D,OAAOC,OAAOL,GAAc,GAAK,IAAIA,IAAeA,CACxD,QAvCA,SAAuBM,GACPV,KAAKW,MAAX,MACAC,MAAeZ,KACrBY,EAASC,SAAS,GAAI,EAAG,EAAG,GAEbD,EAASL,UACxBO,aAAY,KACFH,MAAAA,EAAMX,KAAKW,MACbA,GAAAA,GAAOC,EAASL,UAAW,KAErBK,MAAAA,MAAeZ,KACrBY,EAASC,SAAS,GAAI,EAAG,EAAG,GACjBD,EAASL,SACxB,IACD,IACP,CAEAQ,EAAc,KACVnB,EAAKoB,MAAQlB"}